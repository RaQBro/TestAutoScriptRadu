<mvc:View controllerName="webapp.ui.controller.Jobs" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"
	xmlns:smartTable="sap.ui.comp.smarttable" xmlns:smartFilterBar="sap.ui.comp.smartfilterbar">
	<Page showHeader="false" showFooter="true" showNavButton="false" floatingFooter="false" showSubHeader="false">
		<content>
			<VBox id="vboxMessages" fitContainer="true">
				<smartFilterBar:SmartFilterBar id="sfbJobs" entitySet="GetJobLogs" persistencyKey="pk_jobs" useToolbar="false"
					considerSelectionVariants="false" visible="false">
					<smartFilterBar:controlConfiguration>
						<smartFilterBar:ControlConfiguration key="JOB_ID" visibleInAdvancedArea="true" label="{i18n>jobMessagesJobID}"/>
						<smartFilterBar:ControlConfiguration key="JOB_STATUS" visibleInAdvancedArea="true" label="{i18n>jobStatus}"/>
						<smartFilterBar:ControlConfiguration key="START_TIMESTAMP" visibleInAdvancedArea="true"
							conditionType="sap.ui.comp.config.condition.DateRangeType" label="{i18n>jobStartTimestamp}"/>
						<smartFilterBar:ControlConfiguration key="END_TIMESTAMP" visibleInAdvancedArea="true"
							conditionType="sap.ui.comp.config.condition.DateRangeType" label="{i18n>jobEndTimestamp}"/>
						<smartFilterBar:ControlConfiguration key="JOB_NAME" visibleInAdvancedArea="true" label="{i18n>jobMessagesJobName}"/>
						<smartFilterBar:ControlConfiguration key="USER_ID" visibleInAdvancedArea="true" label="{i18n>colUser}"/>
					</smartFilterBar:controlConfiguration>
					<smartFilterBar:layoutData>
						<FlexItemData shrinkFactor="0"/>
					</smartFilterBar:layoutData>
				</smartFilterBar:SmartFilterBar>
				<smartTable:SmartTable id="stJobs" entitySet="GetJobLogs" smartFilterId="sfbJobs" tableType="ResponsiveTable" useTablePersonalisation="true"
					showTablePersonalisation="true" useVariantManagement="false" header="{i18n>numberOfEntries}" showRowCount="true" useExportToExcel="true"
					initiallyVisibleFields="JOB_ID,JOB_STATUS,JOB_NAME,START_TIMESTAMP,END_TIMESTAMP" enableAutoBinding="true"
					requestAtLeastFields="JOB_ID,JOB_STATUS,JOB_NAME,START_TIMESTAMP,END_TIMESTAMP" beforeRebindTable="onBeforeRebindTable">
					<smartTable:layoutData>
						<FlexItemData growFactor="1" baseSize="0%"/>
					</smartTable:layoutData>
					<smartTable:customToolbar>
						<OverflowToolbar design="Transparent">
							<ToolbarSpacer/>
							<Button id="btnRefresh" icon="sap-icon://refresh" text="{i18n>btnRefresh}" visible="true" press="onRefreshEntries"/>
						</OverflowToolbar>
					</smartTable:customToolbar>
					<Table id="tJobs" growing="true">
						<columns>
							<Column>
								<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "NAV_TO_LOGS", "leadingProperty": "", "columnIndex": "5"}'/>
								</customData>
								<Text text="{i18n>jobLogs}"></Text>
							</Column>
						</columns>
						<items>
							<ColumnListItem highlight="{path:'JOB_STATUS',formatter:'.formatRowHighlight'}">
								<Button text="{i18n>btnViewLogs}" press="onViewJobLogs"/>
							</ColumnListItem>
						</items>
					</Table>
				</smartTable:SmartTable>
			</VBox>
		</content>
		<footer>
			<core:Fragment fragmentName="webapp.ui.toolBarMessages.ToolbarMessages" type="XML"/>
		</footer>
	</Page>
</mvc:View>